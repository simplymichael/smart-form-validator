!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SmartFormValidator=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={argNamesAreReserved:"The following :argNames: are reserved and cannot be used as :argTypes:: \n:argValues:",fieldCannotBeEmpty:"The `:field:` field expects a non-empty :type:",fieldNotRegistered:'No field with the specified id (":id:") has been registered on this :element:',functionParamExpectsType:"The `:param:` argument expects :type:",functionParamIsRequired:"The `:param:` argument is required",htmlElementExpected:"The `:param:` argument expects an HTML `:elementType:` element",noObjectWithSpecifiedKey:"No :object: with the key `:key:` exists",noEffectsActive:"There are no active effects set on this field. \nYou can set an effect by calling `useEffect(effect)`",noValidatorsActive:"There are no active validators for this field. You can do one of the following to fix this issue: 1. Re-enable any disabled validators by calling `enableValidator(key)` \n2. Add a rule using the `addRule(rule)` method \n3. Add a validator using the `addValidator(key, validator, meta)` method",objectPropertyCannotBeEmpty:"The `:prop:` property of the `:object:` object cannot be empty",objectMustHaveProperty:"The `:param:` argument must have a `:prop:` property",objectsMustHaveProperty:"The `:paramA:` argument must have a `:propA:` property or The `:paramB:` argument must have a `:propB:` property",objectPropertyShouldHaveType:"The `:prop:` property of the `:object:` object shoulde be :type:",objectWithKeyExists:":object: with key `:key:` already exists",objectWithKeyExistsCanReplace:":object: with key `:key:` already exists. Use `:replacer:` to replace it.",unknownType:"Unknown :type:: `:typeName:`, allowed :types: are: :allowedTypes:"};function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return c}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l,s,f,d,p,m,h,y,v,g,b,E,w,j,A,T,S,x,L,V,N,O,R,F,C,I,P,k,B,D,M,z,Z,q,W,K,H,$,J,U,Y,G,Q,X,ee,te,re,ne,ie,ae,oe,ce,ue,le,se,fe,de,pe,me,he=t,ye={array:ge,function:function(e){return"function"==typeof e},number:function(e){return"number"==typeof(e=Number(e))&&!Number.isNaN(e)},object:be,string:function(e){return"string"==typeof e}},ve={is:ye,object:{clone:Ee,cloneAndExtend:function(e,t){return be(e)&&be(t)?Object.assign(Ee(e),t):e},has:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},createListFromArray:we,generateEffectName:je,getEffectNames:function(e){var t=Object.values(e);return t.map((function(e){return e.name}))},getValidatorNames:function(e){return Object.keys(e)},isSubmitBtn:function(e){return"submit"===e.type||"submit-button"===e.role},normalizeId:function(e){return String(e).trim()},preEffectRegistrationCheck:function(e,t){if(!ye.object(e))throw new TypeError(he.functionParamExpectsType.replace(":param:","effect").replace(":type:","an object"));var r=e.name,i=e.meta,a=e.valid,o=e.invalid;if(!ye.string(r))throw new TypeError(he.functionParamExpectsType.replace(":param:","effect.name").replace(":type:","a string"));var c="";if(r=r.trim(),!ye.function(a))throw new TypeError(he.functionParamExpectsType.replace(":param:","effect.valid").replace(":type:","a function"));if(!ye.function(o))throw new TypeError(he.functionParamExpectsType.replace(":param:","effect.invalid").replace(":type:","a function"));ye.object(i)&&ye.string(i.namespace)&&(c=i.namespace.trim());var u=je(r,c);if(0===u.length)throw new TypeError(he.fieldCannotBeEmpty.replace(":field:","effect.name").replace(":type:","string"));if(t.includes(u))throw new TypeError(he.argNamesAreReserved.replace(":argNames:","names").replace(":argTypes:","effect names").replace(":argValues:",we(t)));return n(n({},e),{},{name:u})},preValidatorRegistrationCheck:function(e,t,r,n){if(!ye.string(e))throw new TypeError(he.functionParamExpectsType.replace(":param:","validatorKey").replace(":type:","a string"));var i="";if(!(e=e.trim()))throw new TypeError(he.fieldCannotBeEmpty.replace(":field:","validatorKey").replace(":type:","string"));ye.object(r)&&ye.string(r.namespace)&&(i=r.namespace.trim());if(e=Ae(e,i),n.includes(e))throw new TypeError(he.argNamesAreReserved.replace(":argNames:","keys").replace(":argTypes:","validator keys").replace(":argValues:",we(n)));if(!ye.function(t))throw new TypeError(he.functionParamExpectsType.replace(":param:","validatorFn").replace(":type:","a function"));return e},validateId:function(e){return["number","string"].includes(i(e))&&Boolean(e)},APP_CLASSNAME:"sfv",DISABLED_FIELD_CLASSNAME:"sfv-disabled",SMART_FIELD_CLASSNAME:"sfv-sf",VALID_FIELD_CLASSNAME:"sfv-ok",INVALID_FIELD_CLASSNAME:"sfv-error"};function ge(e){return Array.isArray(e)}function be(e){return"object"===i(e)&&e&&!ge(e)}function Ee(e){return be(e)?Object.assign({},e):e}function we(e,t){return"string"!=typeof t&&(t="\t\n* "),"".concat(t).concat(e.join(t))}function je(e,t){return e=ye.string(e)?e.trim():"",t=ye.string(t)?t.trim():"",e.length>0&&t.length>0?"".concat(t,".").concat(e):e.length>0?e:""}function Ae(e,t){return e.length>0&&t.length>0?"".concat(t,".").concat(e):e.length>0?e:""}function Te(){if(s)return l;s=1;var e=ve.is;return l={isSubmitButton:function(t){return e.object(t)&&("submit"===t.type||"submit-button"===t.role)}}}function Se(){if(d)return f;d=1;var e=ve.is,t=ve.VALID_FIELD_CLASSNAME,r=ve.INVALID_FIELD_CLASSNAME,n=Te().isSubmitButton;return f={name:"addBottomBorder",meta:{},valid:function(i){if(!e.object(i)||n(i))return;i.classList.remove(r),i.classList.add(t)},invalid:function(i){if(!e.object(i)||n(i))return;i.classList.remove(t),i.classList.add(r)}}}function xe(){if(m)return p;m=1;var e=ve.is,t=ve.VALID_FIELD_CLASSNAME,r=ve.INVALID_FIELD_CLASSNAME,n=Te().isSubmitButton;return p={name:"addValidationStatusIcons",meta:{},valid:function(i){if(!e.object(i)||n(i))return;i.classList.remove(r),i.classList.add(t)},invalid:function(i){if(!e.object(i)||n(i))return;i.classList.remove(t),i.classList.add(r)}}}function Le(){if(y)return h;y=1;var e=ve.APP_CLASSNAME,t=ve.DISABLED_FIELD_CLASSNAME,r=Te().isSubmitButton;function n(n,i){try{if(!r(i))return;var a=i;n?(a.removeAttribute("disabled"),a.classList.remove(e),a.classList.remove(t)):(a.setAttribute("disabled",!0),a.classList.add(e),a.classList.add(t))}catch(e){console.log("Unable to modify the submit button state: ",e.message)}}return h={name:"toggleSubmitButton",meta:{},init:function(e){n(!1,e)},valid:function(e){n(!0,e)},invalid:function(e){n(!1,e)}}}function Ve(){return g?v:(g=1,v={addBottomBorder:Se(),addValidationStatusIcons:xe(),toggleSubmitButton:Le()})}function Ne(){if(E)return b;E=1;var e=ve.is,t=ve.object,r=["g","m"];function n(r){var n,i=t.clone(r)||{};if(i.min&&i.max){if(Number(i.min)>Number(i.max)){var a=i.min;i.min=i.max,i.max=a}n="{".concat(i.min,",").concat(i.max,"}")}else i.min?n="{".concat(i.min,",}"):i.max?n="{0,".concat(i.max,"}"):e.number(i)&&(n="{0,".concat(i,"}"));return n}function i(e){return e?r.join(""):[].concat(r,["i"]).join("")}return b={createAlphanumericRegexObject:function(e,t,r){var a;a=t.length?n(t.length):r||"+";return e="".concat(e).concat(a),e="^".concat(e,"$"),new RegExp(e,i(t.matchCase))},getLengthRegex:n,getRegexRules:i}}function Oe(){if(j)return w;j=1;var e=Ne().createAlphanumericRegexObject;return w=function(t,r){if(!r.type||"alnum"!==r.type)return!0;if(!t)return!1;var n=r.allowWhitespace?"[A-Z0-9\\s_-]":"[A-Z0-9_-]";return e(n,r).test(t)}}function Re(){if(T)return A;T=1;var e=Ne().createAlphanumericRegexObject;return A=function(t,r){if(!r.type||"alpha"!==r.type)return!0;if(!t||"string"!=typeof t)return!1;var n=r.allowWhitespace?"[A-Z\\s_-]":"[A-Z_-]";return e(n,r).test(t)}}function Fe(){if(x)return S;x=1;var e=Ne().createAlphanumericRegexObject;return S=function(t,r){if(!r.type||"ascii"!==r.type)return!0;if(!t)return!1;return e("[A-Z0-9`~!@#$%^&*()-+=\\[\\]{}\\\\;:'\"|<>?\\,\\.?\\/\\s_-]",r).test(t)}}function Ce(){if(V)return L;V=1;var e=/^[-!#$%&'*+/0-9=?A-Z^_a-z`{|}~](\.?[-!#$%&'*+/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;return L=function(t,r){if(!r.type||"email"!==r.type)return!0;if(!t||"string"!=typeof t)return!1;var n=t.split("@");if(2!==n.length)return!1;var i=o(n,2),a=i[0],c=i[1];return!(a.length>64||c.length>255)&&(!c.split(".").some((function(e){return e.length>63}))&&e.test(t))}}function Ie(){if(O)return N;O=1;var e=ve.is,t=Ne().createAlphanumericRegexObject;return N=function(r,n){if(!e.number(n.length)&&!e.object(n.length))return!0;if(null==r||!1===r)return!1;return t("[A-Z0-9.\\s_-]",n,"*").test(r)}}function Pe(){if(F)return R;F=1;var e=Ne().createAlphanumericRegexObject;return R=function(t,r){if(!r.type||"number"!==r.type)return!0;if(""===t||null==t)return!1;var n=r.allowWhitespace?"[0-9\\s]":"[0-9]";return e(n,r).test(t)}}function ke(){if(I)return C;I=1;var e=ve.is;return C=function(t,r){if(!r.regex)return!0;var n=r.regex;return(e.object(n)?n:new RegExp(n)).test(t)}}function _e(){return D?B:(D=1,B={alphanumericValidator:Oe(),alphaValidator:Re(),asciiTextValidator:Fe(),emailValidator:Ce(),lengthValidator:Ie(),numberValidator:Pe(),regexValidator:ke(),requiredFieldValidator:k?P:(k=1,P=function(e,t,r,n){return!t.required||""!==e&&void 0!==e&&("checkbox"===t.type?n.checked&&"on"===e:e.length>0)})})}function Be(){if(z)return M;z=1;var e=Ve(),r=t,i=ve.APP_CLASSNAME,a=ve.SMART_FIELD_CLASSNAME,o=ve.is,u=ve.object,l=ve.generateEffectName,s=ve.getEffectNames,f=ve.getValidatorNames,d=ve.preEffectRegistrationCheck,p=ve.preValidatorRegistrationCheck,m=ve.isSubmitBtn,h=ve.normalizeId,y=ve.validateId,v=_e(),g=Object.values(e),b=s(e),E=Object.entries(v),w=f(v);function j(e,t){if(!o.object(e))throw new TypeError(r.functionParamExpectsType.replace(":param:","element").replace(":type:","object"));if(!y(e.id)&&!m(e))throw new TypeError(r.objectPropertyShouldHaveType.replace(":prop:","id").replace(":object:","element").replace(":type:","a string or a number"));if(0===h(e.id).length&&!m(e))throw new TypeError(r.objectPropertyCannotBeEmpty.replace(":prop:","id").replace(":object:","element"));if(void 0!==e.getValue&&"function"!=typeof e.getValue)throw new TypeError(r.objectPropertyShouldHaveType.replace(":prop:","getValue").replace(":object:","element").replace(":type:","a function"));m(e)&&(this.role="submit-button"),this.id=e.id,this.element=e,this.defaultEffects=new Map,this.defaultValidators=new Map(E),this.effects=new Map,this.validators=new Map;var u,l,s,f,d=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(u)throw a}}}}(g);try{for(d.s();!(u=d.n()).done;){var p=u.value,v=p.name,b=p.meta,w=p.init,j=p.valid,A=p.invalid;this.defaultEffects.set(v,{meta:b,init:w,valid:j,invalid:A}),o.function(w)&&w(this.element)}}catch(e){d.e(e)}finally{d.f()}o.object(t)&&this.addRule(n(n({},t),{},{fieldId:e.id})),null===(s=(l=e).classList)||void 0===s||s.add(i),null===(f=l.classList)||void 0===f||f.add(a)}return M=j,j.prototype.addRule=function(e){var t=this.rule;return o.object(t)&&o.object(e)?this.rule=u.cloneAndExtend(t,e):this.rule=e,this},j.prototype.removeRule=function(e){var t=this.rule;return o.object(t)?(e?delete this.rule[e]:delete this.rule,this):this},j.prototype.getRule=function(e){return e&&this.rule?void 0!==this.rule[e]?this.rule[e]:null:this.rule||null},j.prototype.getEffect=function(e,t){e=o.string(e)?e.trim().toLowerCase():"",t=o.string(t)?t.trim().toLowerCase():"";var r=l(e,t);return this.effects.has(r)?this.effects.get(r):null},j.prototype.getEffects=function(e){e=o.string(e)?e.toLowerCase().trim():"";var t={default:this.defaultEffects,addon:this.effects};return["addon","default"].includes(e)?t[e]:t},j.prototype.useEffect=function(e){var t=d(e,b),n=t.name,i=t.meta,a=t.init,c=t.valid,u=t.invalid;if(this.usesEffect(n))throw new TypeError(r.objectWithKeyExists.replace(":object:","An effect").replace(":key:",n));return this.effects.set(n,{meta:i,init:a,valid:c,invalid:u}),o.function(a)&&a(this.getElement()),this},j.prototype.usesEffect=function(e,t){if(o.string(e)){e=e.trim().toLowerCase(),t=o.string(t)?t.trim().toLowerCase():"";var r=l(e,t);return this.effects.has(r)}return this.effects.size>0},j.prototype.addValidator=function(e,t,n){if(e=p(e,t,n,w),this.hasValidator(e))throw new TypeError(r.objectWithKeyExists.replace(":object:","A validator").replace(":key:",e));return this.validators.set(e,t),this},j.prototype.getValidators=function(e){e=o.string(e)?e.toLowerCase().trim():"";var t={default:this.defaultValidators,addon:this.validators};return["addon","default"].includes(e)?t[e]:t},j.prototype.hasValidator=function(e){return o.string(e)&&(e=e.trim().toLowerCase()),o.string(e)?this.validators.has(e):this.validators.size>0},j.prototype.getElement=function(){return this.element},j.prototype.getValue=function(){var e,t,r,n,i=this.getElement();if("function"==typeof i.getValue)r=i.getValue();else if("checkbox"===(null===(e=i.type)||void 0===e?void 0:e.toLowerCase()))r=i.value;else if("select"===(null===(t=i.tagName)||void 0===t?void 0:t.toLowerCase())){var a;r=null===(a={value:(n=i).value,text:n.options[n.selectedIndex].text})||void 0===a||null===(a=a.value)||void 0===a?void 0:a.trim()}else void 0!==i.value?r=i.value:i.isContentEditable&&void 0!==i.textContent&&(r=i.textContent);return o.string(r)?r.trim():r},j.prototype.validate=function(){var e=this.getValidators(),t=e.default,n=e.addon,i=Array.from(t.values()).concat(Array.from(n.values()));if(0===i.length)throw new TypeError(r.noValidatorsActive);var a=this.getEffects(),o=a.default,c=a.addon,u=Array.from(o.values()).concat(Array.from(c.values()));if(0===u.length)throw new TypeError(r.noEffectsActive);var l=this.getRule(),s=this.getElement(),f=this.getValue(),d={};l.required&&"checkbox"===s.type&&(d.checked=s.checked);var p=i.reduce((function(e,t){return e&&t(f,l,e,d)}),!0);return u.forEach((function(e){var t=e.valid,r=e.invalid;p?t(s):r(s)})),p},j.prototype.watch=function(e){var t,r=this,n=this.getElement();if("checkbox"===n.type)t="click";else t="input";n.addEventListener(t,(function(){return r.validate(_,e)}))},M}function De(){if(q)return Z;q=1;var e=t,r=ve.is,n=ve.isSubmitBtn,i=ve.normalizeId,a=ve.validateId,o=Be();return Z=function(t,c){if("string"==typeof t&&(t=document.getElementById(t)),!r.object(t))throw new TypeError(e.functionParamExpectsType.replace(":param:","input").replace(":type:","object"));if(!a(t.id)&&!n(t))throw new TypeError(e.objectPropertyShouldHaveType.replace(":prop:","id").replace(":object:","input").replace(":type:","a string or a number"));return this.getField(i(t.id))?r.object(c)&&(c.field=t.id,this.addRule(c)):this.fields.push(new o(t,c)),this}}function Me(){if(K)return W;K=1;var e=ve.is;return W=function(t){var r=this;return e.array(t)&&t.length>0&&t.forEach((function(e){return r.addField(e.field,e.rule)})),this}}function ze(){if($)return H;$=1;var e=t,r=ve.is,n=ve.object;return H=function(t){if(!r.object(t))throw new TypeError(e.functionParamExpectsType.replace(":param:","rule").replace(":type:","object"));if(!n.has(t,"field"))throw new TypeError(e.objectMustHaveProperty.replace(":param:","rule").replace(":prop:","field"));var i=r.object(t.field)?t.field.id:t.field,a=this.getField(i);if(!a)throw new TypeError(e.fieldNotRegistered.replace(":element:","validator").replace(":id:",i));return a.addRule(t),this}}function Ze(){if(U)return J;U=1;var e=t,r=ve.getValidatorNames,n=ve.preValidatorRegistrationCheck,i=r(_e());return J=function(t,r,a){if(this.validators=this.validators||{},t=n(t,r,a,i),this.validators[t])throw new TypeError(e.objectWithKeyExists.replace(":object:","A validator").replace(":key:",t));this.validators[t]=r,"function"==typeof this.getFields&&this.getFields().forEach((function(e){e.hasValidator(t)||e.addValidator(t,r,a)}))}}function qe(){if(G)return Y;G=1;for(var e=Ve(),t=ve.is,r={},n=0,i=Object.values(e);n<i.length;n++){var a=i[n],o=a.name,c=a.meta,u=a.init,l=a.valid,s=a.invalid;r[o]={meta:c,init:u,valid:l,invalid:s}}return Y=function(e){e=t.string(e)?e.trim().toLowerCase():"";var n=this.effects||null;if(!["addon","default"].includes(e))return{default:r,addon:n};switch(e){case"default":return r;case"addon":return n}}}function We(){if(X)return Q;X=1;var e=ve.normalizeId;return Q=function(t){return this.getFields().find((function(r){return e(r.id)===e(t)}))||null}}function Ke(){return te?ee:(te=1,ee=function(){return this.fields})}function He(){if(ne)return re;ne=1;for(var e=_e(),t=ve.is,r={},n=0,i=Object.entries(e);n<i.length;n++){var a=o(i[n],2),c=a[0],u=a[1];r[c]=u}return re=function(e){e=t.string(e)?e.trim().toLowerCase():"";var n=this.validators||null;if(!["addon","default"].includes(e))return{default:r,addon:n};switch(e){case"default":return r;case"addon":return n}}}function $e(){if(ae)return ie;ae=1;var e=ve.is;return ie=function(t,r){var n=e.object(t)?t.id:t,i=this.getField(n);return i&&i.removeRule(r),this}}function Je(){return ce?oe:(ce=1,oe=function(){return this.getFields()})}function Ue(){if(le)return ue;le=1;var e=Ve(),r=t,n=ve.getEffectNames,i=ve.preEffectRegistrationCheck,a=n(e);return ue=function(e){this.effects=this.effects||{};var t=i(e,a),n=t.name,o=t.meta,c=t.init,u=t.valid,l=t.invalid;if(this.effects[n])throw new TypeError(r.objectWithKeyExists.replace(":object:","An effect").replace(":key:",n));this.effects[n]={meta:o,init:c,valid:u,invalid:l},"function"==typeof this.getFields&&this.getFields().forEach((function(t){var r;t.usesEffect(e.name,null===(r=e.meta)||void 0===r?void 0:r.namespace)||t.useEffect(e)}))}}function Ye(){return fe?se:(fe=1,se=function(){return this.getFields().map((function(e){return e.validate()})).every((function(e){return Boolean(e)}))})}function Ge(){if(pe)return de;pe=1;var e=t;function r(e){return"submit-button"===e.role}return de=function(t){var n,i,a=!1,o=this.form||this,c=this.getFields(),u=c.filter((function(e){return!r(e)})),l=null===(n=c.find(r))||void 0===n?void 0:n.getElement(),s=u.map((function(e){return Boolean(e.getRule())})),f=this.constructor.getEffects(),d=this.getEffects(),p=Object.assign({},f.default,f.addon,d.default,d.addon),m=Object.values(p),h=(i={},function(e,t,r){var n=!1,a=!1;return i[e.id]=i[e.id]||{},i[e.id].valid=t,Object.keys(i).length===r.length&&(a=!0,n=Object.values(i).every((function(e){return e.valid}))),{formValid:n,allFieldsValidated:a}});return u.forEach((function(r){var n=r.getElement();n.addEventListener(function(e){var t;if("checkbox"===e.type)t="click";else t="input";return t}(n),function(r,n){return function(){var i=r.validate(),c=h(r,i,s);a=c.formValid,"function"==typeof t&&(t(n,i),c.allFieldsValidated&&t(o,a)),function(t,r,n){if(0===r.length)throw new TypeError(e.noEffectsActive);r.forEach((function(e){var r=e.valid,i=e.invalid;t?r(n):i(n)}))}(a,m,l)}}(r,n))})),{valid:function(){return a}}},de}function Qe(){return me||(me={"/src/methods/addField.js":De,"/src/methods/addFields.js":Me,"/src/methods/addRule.js":ze,"/src/methods/addValidator.js":Ze,"/src/methods/getEffects.js":qe,"/src/methods/getField.js":We,"/src/methods/getFields.js":Ke,"/src/methods/getValidators.js":He,"/src/methods/removeRule.js":$e,"/src/methods/toJSON.js":Je,"/src/methods/useEffect.js":Ue,"/src/methods/validate.js":Ye,"/src/methods/watch.js":Ge})}function Xe(e){function t(t){var r=et(t,e);if(null!==r)return Qe()[r]();throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}return t.resolve=function(t){var r=et(t,e);return null!==r?r:require.resolve(t)},t}function et(e,t){var r,n=function(e){var t=e[0];if("/"===t||"\\"===t)return!1;var r=e[1],n=e[2];return!(!("."!==t||r&&"/"!==r&&"\\"!==r)||!("."!==t||"."!==r||n&&"/"!==n&&"\\"!==n))&&(":"!==r||"/"!==n&&"\\"!==n)}(e);"/"===(e=tt(e))[0]&&(t="");for(var i=Qe(),a=["",".js",".json"];!(r=tt(n?t+"/node_modules/"+e:t+"/"+e)).endsWith("/..");){for(var o=0;o<a.length;o++){var c=r+a[o];if(i[c])return c}if(!n)break;var u=tt(t+"/..");if(u===t)break;t=u}return null}function tt(e){for(var t=(e=e.replace(/\\/g,"/")).split("/"),r=""===t[0],n=1;n<t.length;n++)"."!==t[n]&&""!==t[n]||t.splice(n--,1);for(n=1;n<t.length;n++)".."===t[n]&&n>0&&".."!==t[n-1]&&"."!==t[n-1]&&(t.splice(--n,2),n--);return e=t.join("/"),r&&"/"!==e[0]?e="/"+e:0===e.length&&(e="."),e}var rt=t,nt=ve.createListFromArray,it=["addField","addFields","addRule","addValidator","getValidators","getEffects","getField","getFields","removeRule","toJSON","useEffect","validate","watch"],at=["getEffects","useEffect"],ot=function(e,t){if("function"!=typeof e)throw new TypeError(rt.functionParamExpectsType.replace(":param:","ctor").replace(":type:","(constructor) function"));if(!it.includes(t))throw new TypeError(rt.unknownType.replace(":type:","instance method").replace(":typeName:",t).replace(":types:","methods").replace(":allowedTypes:",nt(it)));e.prototype[t]=Xe("/src/methods")("./".concat(t))},ct=function(e,t){if("function"!=typeof e)throw new TypeError(rt.functionParamExpectsType.replace(":param:","ctor").replace(":type:","(constructor) function"));if(!at.includes(t))throw new TypeError(rt.unknownType.replace(":type:","static method").replace(":typeName:",t).replace(":types:","methods").replace(":allowedTypes:",nt(at)));e[t]=Xe("/src/methods")("./".concat(t))};var ut=t,lt=ve.is,st=ve.isSubmitBtn,ft=ve.validateId,dt=ot,pt=ct,mt=ht;function ht(e,t){var r=this;if("string"==typeof e&&(e=document.getElementById(e.trim())),!lt.object(e))throw new TypeError(ut.htmlElementExpected.replace(":param:","form").replace(":elementType:","form"));this.form=e,this.fields=[];var n=e.elements;n&&Array.from(n).forEach((function(e){(ft(e.id)||st(e))&&r.addField(e)})),lt.array(t)&&t.forEach((function(t){var n=e.querySelector("#".concat(t.fieldId));n&&r.getField(n.id)&&r.addRule(t)}))}ht.prototype.addField=function(e,t){return Array.from(this.form.elements).map((function(e){return e.id})).includes(e.id)&&De().call(this,e,t),this},["getEffects","useEffect"].forEach((function(e){pt(ht,e)})),["addRule","removeRule","getField","getFields","getEffects","useEffect","toJSON","validate","watch"].forEach((function(e){dt(ht,e)}));var yt=ot,vt=ct,gt=mt,bt=Et;function Et(){this.fields=[],this.form=null}return Et.prototype.addForm=function(e,t){var r=new gt(e,t);return this.form=r.form,r},["getEffects","useEffect"].forEach((function(e){vt(Et,e)})),["addField","addFields","addRule","removeRule","addValidator","getValidators","getField","getFields","getEffects","useEffect","toJSON","validate","watch"].forEach((function(e){yt(Et,e)})),e(bt)}));
//# sourceMappingURL=smart-form-validator.min.js.map
